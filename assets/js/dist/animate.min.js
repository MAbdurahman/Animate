/*! to-do-app v1.0.0 | (c) 2015 Josh Johnson | https://github.com/jshjohnson/to-do-list-app#readme */
!function(t,i){"function"==typeof define&&define.amd?define([],i(t)):"object"==typeof exports?module.exports=i(t):t.Animate=i(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var i=function(i){var e={animatedClass:"js-animated",offset:0,target:"[data-animate]",reverse:!1,debug:!1,onLoad:!0,onScroll:!0,callback:function(){}};this.options=this._extend(e,i||{}),this.elements=t.document.querySelectorAll(this.options.target),this.initialised=!1,this.init()};return i.prototype._debounce=function(t,i,e){var n;return function(){var o=this,s=arguments,a=function(){n=null,e||t.apply(o,s)},r=e&&!n;clearTimeout(n),n=setTimeout(a,i),r&&t.apply(o,s)}},i.prototype._extend=function(){for(var t={},i=arguments.length,e=function(i){for(var e in i)t[e]=i[e]},n=0;i>n;n++){var o=arguments[n];this._isType("Object",o)?e(o):console.warn("Custom options must be an object")}return t},i.prototype._whichAnimationEvent=function(){var t,i=document.createElement("fakeelement"),e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in e)if(void 0!==i.style[t])return e[t]},i.prototype._isInView=function(t){var i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)},i.prototype._isVisible=function(t){var i=t.getAttribute("data-visibility");return"true"===i},i.prototype._hasAnimated=function(t){var i=t.getAttribute("data-animated");return"true"===i},i.prototype._isType=function(t,i){var e=Object.prototype.toString.call(i).slice(8,-1);return null!==i&&void 0!==i&&e===t},i.prototype._addAnimation=function(t){t.setAttribute("data-visibility",!0);var i=t.getAttribute("data-animation-classes").split(" "),e=parseInt(t.getAttribute("data-animation-delay"));e&&this._isType("Number",e)?setTimeout(function(){this.options.debug&&console.debug("animate.js: Animation added"),i.forEach(function(i){t.classList.add(i)})}.bind(this),e):(this.options.debug&&console.debug("animate.js: Animation added"),i.forEach(function(i){t.classList.add(i)})),this._completeAnimation(t)},i.prototype._removeAnimation=function(t){t.setAttribute("data-visibility",!1),t.removeAttribute("data-animated");var i=t.getAttribute("data-animation-classes").split(" "),e=parseInt(t.getAttribute("data-animation-delay"));i.push(this.options.animatedClass),e&&this._isType("Number",e)?setTimeout(function(){this.options.debug&&console.debug("animate.js: Animation removed"),i.forEach(function(i){t.classList.remove(i)})}.bind(this),e):(this.options.debug&&console.debug("animate.js: Animation removed"),i.forEach(function(i){t.classList.remove(i)}))},i.prototype._completeAnimation=function(t){var i=this._whichAnimationEvent();t.addEventListener(i,function(){this.options.debug&&console.debug("animate.js: Animation completed"),t.classList.add(this.options.animatedClass),t.setAttribute("data-animated",!0),this._isType("Function",this.options.callback)&&this.options.callback()}.bind(this))},i.prototype.init=function(){this.options.debug&&(console.debug("animate.js: Animate.js successfully initialised"),0!==this.elements.length?console.debug("animate.js: Found "+this.elements.length+" elements to animate"):console.warn("No elements to animate"));var i=this._debounce(function(){this._resolveAnimations()}.bind(this),15);this.options.onLoad&&t.addEventListener("DOMContentLoaded",i()),this.options.onScroll&&t.addEventListener("scroll",function(){i()},!1),this.initialised=!0},i.prototype.kill=function(){this.options.debug&&console.debug("animate.js: Animation.js nuked"),this.initialised&&(t.removeEventListener("scroll",this.animateListener),t.removeEventListener("DOMContentLoaded",this.animateListener),this.settings=null)},i.prototype._resolveAnimations=function(){for(var t=this.elements,i=t.length-1;i>=0;i--){var e=t[i];this._isInView(e)?this._isVisible(e)||this._addAnimation(e):!this._isInView(e)&&this._hasAnimated(e)&&this.options.reverse&&this._removeAnimation(e)}},i.prototype.getAnimatedElements=function(){for(var t=[],i=this.elements.length-1;i>=0;i--){var e=this.elements[i];this._hasAnimated(e)&&t.push(e)}return t},i});