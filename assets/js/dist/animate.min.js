/*! animate.js v1.2.4 | (c) 2016 Josh Johnson | https://github.com/jshjohnson/animate.js */
!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.Animate=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e=function(e){var i=t.document.createElement("fakeelement"),n={animatedClass:"js-animated",offset:.5,delay:0,target:"[data-animate]",remove:!0,scrolled:!1,reverse:!1,debug:!1,onLoad:!0,onScroll:!0,onResize:!1,callbackOnInit:function(){},callbackOnAnimate:function(){}};this.throttledEvent=this._debounce(function(){this.render()}.bind(this),15),this.supports="querySelector"in t.document&&"addEventListener"in t&&"classList"in i&&Function.prototype.bind,this.options=this._extend(n,e||{}),this.elements=t.document.querySelectorAll(this.options.target),this.initialised=!1};return e.prototype._debounce=function(t,e,i){var n;return function(){var o=this,s=arguments,a=function(){n=null,i||t.apply(o,s)},r=i&&!n;clearTimeout(n),n=setTimeout(a,e),r&&t.apply(o,s)}},e.prototype._extend=function(){for(var t={},e=arguments.length,i=function(e){for(var i in e)t[i]=e[i]},n=0;e>n;n++){var o=arguments[n];this._isType("Object",o)?i(o):console.error("Custom options must be an object")}return t},e.prototype._whichAnimationEvent=function(){var e,i=t.document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==i.style[e])return n[e]},e.prototype._getElemDistance=function(t){var e=0;if(t.offsetParent)do e+=t.offsetTop,t=t.offsetParent;while(t);return e>=0?e:0},e.prototype._getElemOffset=function(t){var e=parseFloat(t.getAttribute("data-animation-offset"));return isNaN(e)?isNaN(this.options.offset)?void 0:Math.max(t.offsetHeight*this.options.offset):(e=Math.min(Math.max(e,0),1),Math.max(t.offsetHeight*e))},e.prototype._getScrollPosition=function(e){return"bottom"===e?Math.max((t.scrollY||t.pageYOffset)+(t.innerHeight||t.document.documentElement.clientHeight)):t.scrollY||t.pageYOffset},e.prototype._isAboveScrollPos=function(e){return this._getElemDistance(e)+this._getElemOffset(e)<(t.scrollY||t.pageYOffset)},e.prototype._isInView=function(t){var e=this._getScrollPosition("bottom")>this._getElemDistance(t)+this._getElemOffset(t)?!0:!1,i=this._getScrollPosition("top")>this._getElemDistance(t)+this._getElemOffset(t)?!0:!1;return e&!i?!0:!1},e.prototype._isVisible=function(t){var e=t.getAttribute("data-visibility");return"true"===e},e.prototype._hasAnimated=function(t){var e=t.getAttribute("data-animated");return"true"===e},e.prototype._isType=function(t,e){var i=Object.prototype.toString.call(e).slice(8,-1);return null!==e&&void 0!==e&&i===t},e.prototype._addAnimation=function(e){if(!this._isVisible(e)){var i=e.getAttribute("data-animation-classes");if(i){e.setAttribute("data-visibility",!0);var n=i.split(" "),o=parseInt(e.getAttribute("data-animation-delay"),10)||this.options.delay;o&&this._isType("Number",o)&&0!==o?setTimeout(function(){this.options.debug&&t.console.debug&&console.debug("Animation added"),n.forEach(function(t){e.classList.add(t)})}.bind(this),o):(this.options.debug&&t.console.debug&&console.debug("Animation added"),n.forEach(function(t){e.classList.add(t)})),this._completeAnimation(e)}else console.error("No animation classes were given")}},e.prototype._removeAnimation=function(e){var i=e.getAttribute("data-animation-classes");if(i){e.setAttribute("data-visibility",!1),e.removeAttribute("data-animated");var n=i.split(" "),o=parseInt(e.getAttribute("data-animation-delay"),10);n.push(this.options.animatedClass),o&&this._isType("Number",o)?setTimeout(function(){this.options.debug&&t.console.debug&&console.debug("Animation removed"),n.forEach(function(t){e.classList.remove(t)})}.bind(this),o):(this.options.debug&&t.console.debug&&console.debug("Animation removed"),n.forEach(function(t){e.classList.remove(t)}))}else console.error("No animation classes were given")},e.prototype._completeAnimation=function(e){var i=this._whichAnimationEvent();e.addEventListener(i,function(){this.options.debug&&t.console.debug&&console.debug("Animation completed");var i=e.getAttribute("data-animation-remove");if("false"!==i&&this.options.remove){var n=e.getAttribute("data-animation-classes").split(" ");n.forEach(function(t){e.classList.remove(t)})}e.classList.add(this.options.animatedClass),e.setAttribute("data-animated",!0),this.options.callbackOnAnimate&&this._isType("Function",this.options.callbackOnAnimate)?this.options.callbackOnAnimate(e):console.error("Callback is not a function")}.bind(this))},e.prototype.removeEventListeners=function(){this.options.onResize&&t.removeEventListener("resize",this.throttledEvent,!1),this.options.onScroll&&t.removeEventListener("scroll",this.throttledEvent,!1)},e.prototype.addEventListeners=function(){this.options.onLoad&&t.document.addEventListener("DOMContentLoaded",function(){this.render()}.bind(this)),this.options.onResize&&t.addEventListener("resize",this.throttledEvent,!1),this.options.onScroll&&t.addEventListener("scroll",this.throttledEvent,!1)},e.prototype.init=function(){this.options.debug&&t.console.debug&&console.debug("Animate.js successfully initialised. Found "+this.elements.length+" elements to animate"),this.supports&&(this.initialised=!0,this.addEventListeners(),this.options.callbackOnInit&&this._isType("Function",this.options.callbackOnInit)?this.options.callbackOnInit():console.error("Callback is not a function"))},e.prototype.kill=function(){this.options.debug&&t.console.debug&&console.debug("Animation.js nuked"),this.initialised&&(this.removeEventListeners(),this.options=null,this.initialised=!1)},e.prototype.render=function(){for(var t=this.elements,e=t.length-1;e>=0;e--){var i=t[e],n=i.getAttribute("data-animation-reverse"),o=i.getAttribute("data-animation-scrolled");this._isInView(i)?this._addAnimation(i):this._hasAnimated(i)?"false"!==n&&this.options.reverse&&this._removeAnimation(i):this._isAboveScrollPos(i)&&(this.options.scrolled||o)&&this._addAnimation(i)}},e});